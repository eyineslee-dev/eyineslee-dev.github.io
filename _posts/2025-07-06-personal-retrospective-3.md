---
layout: post
title: "개발 환경 세팅"
date: 2025-07-06 00:00:00 +0900
categories: [Personal Retrospective, Project]
tags: [personal retrospective, project]		# TAG는 반드시 소문자로 이루어져야함!
---

## 첫 오프라인 회의 (2025.06.15 ~ 2025.06.21)

이제 디자인 작업이 끝났으니 개발 환경을 어떻게 구성할지 논의를 해야 했다.<br>
그동안 회의는 google meet으로 진행했지만 얼굴도 볼겸 만나서 저녁을 먹고 카페에 가서 회의를 진행하기로 하였다.<br>
오프라인 회의를 하기 전까지 각자 어떻게 구성할지에 대해 생각을 해오기로 하였다.<br>

친구와 나 둘다 JAVA를 주 언어로 사용하기 때문에 Spring이 익숙했으나, 나 같은 경우는 Spring Boot Framework를 기반으로 프로젝트를 진행해본 적이 없었다.<br>
이번 기회에 Spring Boot Framework를 경험해보기로 하였다.<br>

재직 중인 회사에서 아직 JAVA 21을 사용하지 않기 때문에 JAVA 21로 진행하기로 하였다.<br>
(현재 24까지 나온 상태이나 LTS 버전이 21이라서 이렇게 결정했다.)<br>

프론트는 react와 vue를 고민하였는데, 아무래도 시장 점유율이 높은 react를 한번 사용해보는 것이 좋지 않을까 하는 생각이 들었다.<br>

서버는 여러 개의 서비스를 고민하다가 AWS 프리티어로 시작해보기로 하였다.<br>
AWS 계정 신규 가입을 하면 프리티어 서비스를 이용할 수 있는데, 정해진 사용량만큼 서비스를 무료로 이용할 수 있다. (정해진 사용량 초과 시 과금됨)<br>

신입 시절 근무하던 회사에서 AWS를 사용하고 있어서 AWS에 대해 공부할 겸 내가 스터디를 모집하여 토이 프로젝트를 진행했던 적이 있었다.<br>
안타깝게도 도중에 중단되어 사용 중이던 EC2 인스턴스를 중지했었는데 내가 모르는 사이 과금이 되고 있었고, 과금 통지서를 메일로 받았다.<br>
시간이 많이 지난 상태로 정확한 사유가 기억나지 않지만 인스턴스를 중지하는 것만으로도 안된다고 답변 받았었다.<br>
얼마 안되는 금액이긴 했지만 상황을 설명하니 AWS 측에서 처리해주어 금액을 지불하지는 않았었다.<br>

스터디를 길게 진행하지 못해서 AWS에 대해 제대로 공부하지는 못했고, 새로운 회사로 이직하면서 AWS를 사용하지 않는 회사에서 근무하다보니 공부했던 것조차 다 잊었다.<br>
이 프로젝트를 통해 AWS에 대해 공부할 수 있는 좋은 시간이 될 것 같다.<br>

그 외에는 프로젝트를 진행하면서 차차 작성할 기회가 있지 않을까 싶다.<br>

기본적인 코드 컨벤션을 작성하고, 각자 맡은 카테고리의 ERD를 그려오기로 하면서 회의를 마무리지었다.<br>

## AWS - DB 인스턴스 생성 (2025.06.28 ~ 2025.07.05)

Google meet으로 회의를 진행하면서 AWS에서 DB 인스턴스를 생성해보기로 하였다.<br>
아직 서버 구성을 진행할 생각은 없었는데 기능을 개발하려면 DB가 구성되어 있어야 할 것 같아서 먼저 DB 인스턴스만 생성하기로 하였다.<br>
최대한 과금이 일어나지 않도록 불필요한 항목은 다 제외시켰다.<br>

### 문제의 퍼블릭 액세스

RDS 인스턴스 생성 시 '퍼블릭 액세스'를 허용해야 로컬 PC에서 접근이 가능하다고 하여 그렇게 설정했다.<br>
AWS 프리티어 계정으로 서비스를 이용하는 중이기도 하고, ChatGPT에게 물어보니 그렇게 해야한다고 해서 그 말을 믿었다.<br>

인스턴스 생성 후에 어떤 작업도 진행하지 않았기 때문에 인스턴스만 실행 중인 상태였는데, 몇일이 지난 7월 2일 친구에게 연락이 왔다.<br>

Amazon에서 496원이 결제된 것이다. (AWS 계정이 친구 계정이다.)<br>

돈이 문제가 아니라 좀 황당했다.<br>
사전에 미리 알아보고 설정한 부분인데 왜 과금이 됐을까 의아했다.<br>

그래서 ChatGPT에게 다시 물어봤다.<br>
인스턴스 클래스를 db.t4g.micro로 설정하면 요금이 발생한다고 t2나 t3로 하라고 하다가 나중에서야 퍼블릭 액세스를 허용할 경우 과금될 수 있다고 답변을 주었다. (뭐지...?)<br>

뒤통수를 맞은 상황이라 믿음이 가지 않았지만 과금이 들더라도 테스트는 해봐야하기 때문에 일단 생성했던 인스턴스는 삭제하고 주말(7/5)에 다시 생성하기로 하였다.<br>
이번에는 퍼블릭 액세스를 허용하지 않고 생성한 뒤에 로컬 PC에서 SSH 포트 포워딩 방식으로 접근해보기로 했다.<br>

```sh
ssh -i my-key.pem -L 5432:<rds-endpoint>:5432 ec2-user@<ec2-public-ip>
```

설정은 했으니 이제 로컬 PC에서 접속 테스트를 했는데 접속이 되지 않았다.<br>

동일한 AZ에 EC2와 DB 인스턴스를 생성해야 한다고 하여 다시 그렇게 수정하였으나 여전히 동일한 문제가 발생하였다.<br>
이번에는 RDS 보안그룹의 인바운드 규칙에 EC2 보안그룹을 추가해야 한다고 하여 그렇게 했더니 정상적으로 connection이 되었다.<br>

이제 시작이지만 드디어 하나의 산을 넘은 기분이 들었다.<br>
AWS 관련 내용은 공부하여 다시 포스팅할 계획이다.<br>
